<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Valentine üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{overflow:hidden;font-family:'Segoe UI',sans-serif}

/* ---------- PAGE SYSTEM ---------- */
.page{
  display:none;
  height:100vh;
  width:100vw;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}
.page.active{display:flex}

/* ---------- PAGE 1 ---------- */
#page1{background:#ffebe6}

#unlockText{
  font-size:26px;
  margin-bottom:30px;
  text-align:center;
}

.lock{
  font-size:265px;
  cursor:pointer;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.08)}
  100%{transform:scale(1)}
}

.sticky{
  width:460px;
  min-height:340px;
  background:#fff7a8;
  padding:35px;
  font-family:'Patrick Hand',cursive;
  font-size:28px;
  line-height:1.5;
  box-shadow:0 10px 30px rgba(0,0,0,0.25);
  display:none;
  animation:slideIn 0.6s ease forwards;
}
@keyframes slideIn{
  from{transform:translateY(40px);opacity:0}
  to{transform:translateY(0);opacity:1}
}

.continue-btn{
  margin-top:40px;
  padding:14px 40px;
  background:#ffb3b3;
  color:#000;
  border:none;
  font-size:18px;
  cursor:pointer;
  display:none;
  border-radius:8px;
}

/* ---------- PAGE 2 ---------- */
#page2{background:#ffebe6}

.hearts{position:absolute;inset:0;pointer-events:none}
.heart{position:absolute;font-size:12px;opacity:0.4;animation:float 10s linear}
@keyframes float{
  from{transform:translateY(110vh)}
  to{transform:translateY(-120vh)}
}

.photos{
  display:grid;
  grid-template-columns:repeat(2,260px);
  gap:30px;
}
.photo{width:260px;height:260px;perspective:1000px}
.card{
  width:100%;height:100%;
  transition:0.7s;
  transform-style:preserve-3d;
  cursor:pointer;
}
.card.flipped{transform:rotateY(180deg)}
.front,.back{
  position:absolute;inset:0;
  backface-visibility:hidden;
  border-radius:16px;
}
.front img{width:100%;height:100%;object-fit:cover}
.back{
  background:#ff4d6d;
  color:white;
  padding:22px;
  transform:rotateY(180deg);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.question-btn{
    margin-top:40px;
  padding:14px 40px;
  background:#ffb3b3;
  color:#000;
  border:none;
  font-size:18px;
  cursor:pointer;
  display:none;
  border-radius:8px;
}

/* ---------- PAGE 3 ---------- */
#page3{
  background:url('question-bg.jpg') center/cover no-repeat;
}
#page3 h1{font-size:36px;color:black}
.buttons{margin-top:40px}
.btn{
  padding:14px 40px;
  margin:14px;
  background:white;
  border:none;
  font-size:18px;
  cursor:pointer;
}
no-style{
  background:black;
  color:white;
  width:420px;
  padding:40px;
  border-radius:20px;
}

.no-btn{
  margin-top:20px;
  padding:14px 30px;
  background:#ffb3b3;
  color:black;
  border:none;
  font-size:18px;
  cursor:pointer;
  border-radius:8px;
}


/* ---------- PAGE 4 ---------- */
#page4{background:#ffffff}
#loveText{
  margin-top:10px;
  font-size:53px;
  color:pink;
}
#loveVideo{
  width:60%;
  max-width:500px;
  margin-top:20px;
  border-radius:20px;
}
#nextBtn{
  display:none;
  margin-top:30px;
  padding:18px 50px;
  background:#ffbebe;
  color:#000;
  border:none;
  font-size:20px;
  cursor:pointer;
}

/* ---------- PAGE 5 ---------- */
#page5{background:#ffebe6; position:relative}

.top-buttons{
  position:absolute;
  top:20px;
  right:20px;
  display:flex;
  gap:12px;
}
.top-buttons button{
  padding:10px 18px;
  border:none;
  cursor:pointer;
  font-size:14px;
  background:#ff4d6d;
  color:white;
  border-radius:6px;
}

.gift-text{
  font-size:26px;
  margin-bottom:40px;
  text-align:center;
}

.grid{
  display:grid;
  grid-template-columns:repeat(2,260px);
  grid-template-rows:repeat(3,200px);
  gap:30px;
}

.gift-box{
  height:200px;
  background:linear-gradient(#ff69b4,#ff4d6d);
  border-radius:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:80px;
  cursor:pointer;
  transition:0.3s;
}
.gift-box.hover{
  transform:scale(1.05);
}

/* POPUPS */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.popup-box{
  background:white;
  padding:30px;
  border-radius:16px;
  text-align:center;
}
/* Valentine card */
.val-card{
  background:#fff0f5;
  padding:30px;
  border-radius:20px;
  width:420px;
  max-width:95%;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <div id="unlockText">
    I‚Äôve been carrying these words for a while now.<br>
    It felt right to give them to you like this.<br>
    Tap to unlock ü§ç
  </div>
  <div class="lock" onclick="unlock()">üîí</div>
  <div class="sticky" id="stickyNote"></div>
  <button class="continue-btn" id="continueBtn" onclick="goPage(2)">Continue</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <div class="hearts" id="hearts"></div>
  <div class="photos">
    <div class="photo"><div class="card" onclick="flip(this)"><div class="front"><img src="photo1.jpg"></div><div class="back">From the moment you came into my life, everything felt brighter.</div></div></div>
    <div class="photo"><div class="card" onclick="flip(this)"><div class="front"><img src="photo2.jpg"></div><div class="back">You are my calm, my chaos, my comfort.</div></div></div>
    <div class="photo"><div class="card" onclick="flip(this)"><div class="front"><img src="photo3.jpg"></div><div class="back">Kuch rishtay waqt ke saath bante hain.</div></div></div>
    <div class="photo"><div class="card" onclick="flip(this)"><div class="front"><img src="photo4.jpg"></div><div class="back">You are my favorite thought.</div></div></div>
  </div>
  <button class="question-btn" id="qBtn" onclick="goPage(3)">Still here? I have one question‚Ä¶</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
  <h1>Will you be my Valentine? üíò</h1>
  <div class="buttons">
<button class="btn yes-btn" onclick="yesClicked()">YES</button>
<button class="btn no-btn-main" onclick="noClicked()">NO</button>
  </div>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
  <h1 id="loveText"></h1>
  <img id="loveVideo" src="video.gif">
  <button id="nextBtn" onclick="goPage(5)">It‚Äôs still not over yet!</button>
</div>

<!-- PAGE 5 -->
<div class="page" id="page5">
  <div class="top-buttons">
    <button onclick="goPage(1)">Return</button>
    <button onclick="openValCard()">Valentine Card</button>
  </div>

  <div class="gift-text">
    You can choose any 3 boxes‚Ä¶ let‚Äôs see what luck offers you üíù
  </div>

<div class="grid">
  <div class="gift-box" onclick="openGift(0, this)">üéÅ</div>
  <div class="gift-box" onclick="openGift(1, this)">üéÅ</div>
  <div class="gift-box" onclick="openGift(2, this)">üéÅ</div>
  <div class="gift-box" onclick="openGift(3, this)">üéÅ</div>
  <div class="gift-box" onclick="openGift(4, this)">üéÅ</div>
  <div class="gift-box" onclick="openGift(5, this)">üéÅ</div>
</div>
</div>

<script>
function goPage(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('page'+n).classList.add('active');
}

/* PAGE 1 typing */
const noteMsg=`Hi, my favorite person ‚ù§Ô∏è
This little space exists just to remind you how special you are to me.
Take a deep breath, smile a little‚Ä¶ and keep going ‚ú®`;
let ni=0;
function unlock(){
  unlockText.style.display='none';
  document.querySelector('.lock').style.display='none';
  stickyNote.style.display='block';
  typeNote();
}
function typeNote(){
  if(ni<noteMsg.length){
    stickyNote.innerHTML+=noteMsg[ni++];
    setTimeout(typeNote,50);
  }else continueBtn.style.display='block';
}

/* Hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="‚ù§";
  h.style.left=Math.random()*100+"vw";
  hearts.appendChild(h);
  setTimeout(()=>h.remove(),12000);
},600);

/* Flip cards */
let flipped=0;
function flip(card){
  card.classList.toggle("flipped");
  if(card.classList.contains("flipped")) flipped++;
  if(flipped>=4) qBtn.style.display="block";
}

/* NO popup */
function showNoPopup(){
  const pop=document.createElement("div");
  pop.className="popup";
  pop.innerHTML=`
    <div class="popup-box no-style">
      <h2>Do you wanna die? üò°</h2>
      <br>
      <button class="no-btn" onclick="this.closest('.popup').remove()">
        Change your answer right now
      </button>
    </div>`;
  document.body.appendChild(pop);
}
function yesClicked(){
  document.querySelector('.yes-btn').style.background="#ffb3b3";
  document.querySelector('.yes-btn').style.color="black";
  setTimeout(()=>{
    goPage(4);
    startLove();
  },300);
}

function noClicked(){
  document.querySelector('.no-btn-main').style.background="black";
  document.querySelector('.no-btn-main').style.color="white";
  setTimeout(showNoPopup,300);
}

/* LOVE typing */
const loveMsg="I LOVE YOU";
let li=0;
function startLove(){
  loveText.innerHTML="";
  li=0;
  typeLove();
}
function typeLove(){
  if(li<loveMsg.length){
    loveText.innerHTML+=loveMsg[li++];
    setTimeout(typeLove,200);
  }else nextBtn.style.display="block";
}

/* GIFTS */
const giftData = [
  { img: "coupon1.png", type: "good" },
  { img: "coupon2.png", type: "good" },
  { img: "better-luck.png", type: "bad" },
  { img: "coupon4.png", type: "good" },
  { img: "coupon3.png", type: "good" },
  { img: "secret-surprise.png", type: "good" }
];

function openGift(index, box){
  if(box.classList.contains("opened")) return;

  box.classList.add("opened");

  const gift = giftData[index];

  const pop = document.createElement("div");
  pop.className = "popup sparkle";

  if(gift.type === "bad"){
    pop.innerHTML = `
      <div class="popup-box heartbreak">
        <h2>üíî Better luck next time</h2>
        <img src="${gift.img}">
        <p>But hey‚Ä¶ you still have me üòå</p>
        <button onclick="this.closest('.popup').remove()">Close</button>
      </div>
    `;
  } else {
    pop.innerHTML = `
      <div class="popup-box">
        <h2>Your Surprise üíù</h2>
        <img src="${gift.img}">
        <button onclick="this.closest('.popup').remove()">Close</button>
      </div>
    `;
  }

  document.body.appendChild(pop);
}

/* Valentine card */
function openValCard(){
  const pop=document.createElement("div");
  pop.className="popup";
  pop.innerHTML=`
    <div class="val-card big-card" id="valCard">
      <img src="valentine-card.png" style="width:100%;border-radius:16px">
      <br><br>
      <button onclick="downloadCard()">Download</button>
      <br><br>
      <button onclick="this.closest('.popup').remove()">Close</button>
    </div>
  `;
  document.body.appendChild(pop);
}

function downloadCard(){
  html2canvas(document.getElementById("valCard")).then(canvas=>{
    const a=document.createElement("a");
    a.download="valentine-card.png";
    a.href=canvas.toDataURL();
    a.click();
  });
}
</script>

</body>
</html>
